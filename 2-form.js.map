{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: '',\n  message: '',\n};\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nfillFormFields();\n\nrefs.form.addEventListener('input', onInput);\n\nrefs.form.addEventListener('submit', onSubmit);\n\nfunction fillFormFields() {\n  try {\n    const savedFormData = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n\n    if (!savedFormData) return;\n\n    formData = { ...savedFormData };\n\n    const savedFormDataKeys = Object.keys(savedFormData);\n\n    savedFormDataKeys.forEach(\n      key => (refs.form.elements[key].value = savedFormData[key])\n    );\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction onInput({ target: { name, value } }) {\n  formData[name] = value.trim();\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  if (!formData.email.trim() || !formData.message.trim())\n    return alert('Fill please all fields');\n\n  console.log(formData);\n\n  localStorage.removeItem('feedback-form-state');\n\n  formData.email = '';\n  formData.message = '';\n\n  refs.form.reset();\n}\n"],"names":["formData","refs","fillFormFields","onInput","onSubmit","savedFormData","key","error","name","value"],"mappings":"wFAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEAC,IAEAD,EAAK,KAAK,iBAAiB,QAASE,CAAO,EAE3CF,EAAK,KAAK,iBAAiB,SAAUG,CAAQ,EAE7C,SAASF,GAAiB,CACxB,GAAI,CACF,MAAMG,EAAgB,KAAK,MACzB,aAAa,QAAQ,qBAAqB,CAChD,EAEI,GAAI,CAACA,EAAe,OAEpBL,EAAW,CAAE,GAAGK,GAEU,OAAO,KAAKA,CAAa,EAEjC,QAChBC,GAAQL,EAAK,KAAK,SAASK,CAAG,EAAE,MAAQD,EAAcC,CAAG,CAC/D,CACG,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,SAASJ,EAAQ,CAAE,OAAQ,CAAE,KAAAK,EAAM,MAAAC,CAAO,CAAA,EAAI,CAC5CT,EAASQ,CAAI,EAAIC,EAAM,KAAI,EAE3B,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,CACtE,CAEA,SAASI,EAAS,EAAG,CAGnB,GAFA,EAAE,eAAc,EAEZ,CAACJ,EAAS,MAAM,KAAM,GAAI,CAACA,EAAS,QAAQ,KAAM,EACpD,OAAO,MAAM,wBAAwB,EAEvC,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAW,qBAAqB,EAE7CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBC,EAAK,KAAK,OACZ"}